# Notification Service

Административная панель для создания рассылок менеджерами проекта с поддержкой шаблонов, отложенных и повторяющихся сообщений.

## Admin Panel

### Шаблоны сообщений
- Создание шаблонов с выбором способа доставки (email, SMS, push)
- Получение списка шаблонов
- Обновление и удаление шаблонов

### Сообщения
- Создание и немедленная отправка сообщений
- Использование шаблонов при отправке
- Выбор способа доставки

### Запланированные задачи
- Создание отложенных сообщений
- Настройка повторяющихся рассылок
- Управление расписанием отправки

## API Endpoints

### Шаблоны сообщений
- `POST /api/v1/templates/` - Создать шаблон
- `GET /api/v1/templates/` - Получить список шаблонов
- `GET /api/v1/templates/{id}` - Получить шаблон
- `PUT /api/v1/templates/{id}` - Обновить шаблон
- `DELETE /api/v1/templates/{id}` - Удалить шаблон

### Сообщения
- `POST /api/v1/messages/` - Создать и отправить сообщение
- `GET /api/v1/messages/` - Получить список сообщений
- `GET /api/v1/messages/{id}` - Получить сообщение

### Запланированные задачи
- `POST /api/v1/scheduled-tasks/` - Создать задачу
- `GET /api/v1/scheduled-tasks/` - Получить список задач
- `GET /api/v1/scheduled-tasks/{id}` - Получить задачу
- `PUT /api/v1/scheduled-tasks/{id}` - Обновить задачу
- `DELETE /api/v1/scheduled-tasks/{id}` - Удалить задачу

### Здоровье сервиса
- `GET /api/v1/health/` - Проверка здоровья сервиса

## Notification Service

Принимает на вход сообщения от сервисов и отправлет их в очередь для обработки воркером
- отправка одинаковых сообщений всем пользователям;
- отправка персонифицированных сообщений пользователям;
- отправка фиксированных сообщений пользователям;
- в свободном формате;

### API Endpoints

- `POST /events/fixed` - передача в очередь фиксированных оповещений для системных событий
- `POST /events/broadcast` - передача оповещений всех пользователям
- `POST /events/personalized` - передача персонализированных оповещений
- `POST /events/custom` - кастомные оповещения


### Запуск через Docker

1. Запустите сервис с PostgreSQL:
```bash
docker-compose up --build
```

## Документация API

После запуска сервиса документация доступна по адресам:
- Swagger UI: http://localhost:8001/docs
- ReDoc: http://localhost:8001/redoc 